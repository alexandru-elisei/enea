{{!
    @template mod_enea/search_results
}}

<br>
<h3 class="text">{{# str}} searchresults, mod_enea {{/ str}}</h3>
<br>
<p class="text-left"> {{# str}} selectlessons, mod_enea {{/ str}}</p>

<form id="search-results-form">
    <br>
    <div class="form-row text-left lead">
        <dt><u>{{# str}} prerequisites, mod_enea {{/ str}}</u></dt>
    </div>

    {{< mod_enea/course_list_heading}}
    {{$ title}} {{# str}} title, mod_enea {{/ str}} {{/ title}}
    {{$ time}}  {{# str}} time, mod_enea {{/ str}}  {{/ time}}
    {{/ mod_enea/course_list_heading}}

    {{# prerequisites}}
    {{< mod_enea/course_list_row}}
    {{$ elt_name}}{{ name }}{{/ elt_name}}
    {{$ course_title}}{{ title }}{{/ course_title}}
    {{$ course_link}}{{ link }}{{/ course_link}}
    {{$ course_time}}{{ time }}{{/ course_time}}
    {{/ mod_enea/course_list_row}}
    {{/ prerequisites}}

    <br>
    <br>
    <div class="form-row text-left lead">
        <dt><u>{{# str}} recommendedlessons, mod_enea {{/ str}}</u></dt>
    </div>

    {{< mod_enea/course_list_heading}}
    {{$ title}} {{# str}} title, mod_enea {{/ str}} {{/ title}}
    {{$ time}}  {{# str}} time, mod_enea {{/ str}}  {{/ time}}
    {{/ mod_enea/course_list_heading}}

    {{# recommendedlessons}}
    {{< mod_enea/course_list_row}}
    {{$ elt_name}}{{ name }}{{/ elt_name}}
    {{$ course_title}}{{ title }}{{/ course_title}}
    {{$ course_link}}{{ link }}{{/ course_link}}
    {{$ course_time}}{{ time }}{{/ course_time}}
    {{/ mod_enea/course_list_row}}
    {{/ recommendedlessons}}

    <br>
    <br>
    <div class="form-row text-left lead">
        <dt><u>{{# str}} followuplessons, mod_enea {{/ str}}</u></dt>
    </div>

    {{< mod_enea/course_list_heading}}
    {{$ title}} {{# str}} title, mod_enea {{/ str}} {{/ title}}
    {{$ time}}  {{# str}} time, mod_enea {{/ str}}  {{/ time}}
    {{/ mod_enea/course_list_heading}}

    {{# followuplessons}}
    {{< mod_enea/course_list_row}}
    {{$ elt_name}}{{ name }}{{/ elt_name}}
    {{$ course_title}}{{ title }}{{/ course_title}}
    {{$ course_link}}{{ link }}{{/ course_link}}
    {{$ course_time}}{{ time }}{{/ course_time}}
    {{/ mod_enea/course_list_row}}
    {{/ followuplessons}}

    <div style="display: none">
    {{# cmid}}
    <input name="cmid" type="hidden" value="{{ . }}">
    {{/ cmid}}
    {{# id}}
    <input name="id" type="hidden" value="{{ . }}">
    {{/ id}}
    <input name="stage" type="hidden" value="2">
    </div>

    <br>
    </div>
    <div class="form-inline felement data-fieldtype="group"">
        <div class="form-group fitem">
            <input type="submit" class="btn btn-primary" name="finishbutton" value="{{# str}} finish, mod_enea {{/ str}}">
        </div>
        <input class="btn btn-secondary" type="reset" name="clearbutton" value="{{# str}} clear, mod_enea {{/ str}}">
    </div>
</form>

{{# js}}
    require(['jquery'], function($) {
        $('document').ready(function() {
            {{# dependencies}}
            $("[name='{{depname}}']").prop('disabled', true);
            $("[name='{{depon}}']").change(function() {
                if (this.checked) {
                    $("[name='{{depname}}']").prop('disabled', false);
                } else {
                    $("[name='{{depname}}']").prop('disabled', true);
                }
            });
            {{/ dependencies}}

            $('#search-results-form').on('reset', function() {
                setTimeout(function() {
                    {{# dependencies}}
                    $("[name='{{depname}}']").prop('disabled', true);
                    {{/ dependencies}}
                });
            });
        });
    });
{{/ js}}
